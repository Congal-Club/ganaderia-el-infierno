---
import { currencyFormatter } from '../../lib/currency-formatter'
import type { Product } from '../../types/product'

interface Props {
  product: Product
}

const { product } = Astro.props
---

<article class='w-full overflow-hidden transition rounded-md hover:shadow-2xl hover:scale-105 hover:contrast-125'>
  <a title={product.name} href={`/products/${product.slug}`}>
    <header>
      <img
        src={product.image}
        alt={product.name}
        title={product.name}
        class='object-cover object-center w-full aspect-[16/12] rounded mb-2 hover:scale-105 transition'
      />
    </header>

    <main class='px-3 pb-3'>
      <h3 class='text-lg font-semibold text-center text-slate-800'>
        {product.name.length < 25 ? (
          product.name
        ) : (
          product.name.slice(0, 25) + '...'
        )}
      </h3>

      <p class='mt-1 text-base text-gray-700 description text-pretty'>
        {product['short-description'].length < 80 ? (
          product['short-description']
        ) : (
          product['short-description'].slice(0, 80) + '...'
        )}
      </p>

      <p class='mt-1 text-2xl font-bold text-indigo-500'>
        {currencyFormatter.format(product.price)}
      </p>
    </main>
  </a>
</article>
